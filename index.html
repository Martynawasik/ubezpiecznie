<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Popup Example</title>
    <script>
        function openPopup(url) {
            // Open the popup window
            const popup = window.open(url, 'popup', 'width=600,height=400');

            // Check URL periodically
            const checkUrl = setInterval(() => {
                try {
                    if (popup.location.href !== url && !popup.closed) {
                        popup.location.href = url;
                    }
                } catch (e) {
                    // Handle cross-origin errors
                    if (!popup.closed) {
                        popup.location.href = url;
                    }
                }
            }, 100);

            // Clear the interval when the popup is closed
            popup.onbeforeunload = () => {
                clearInterval(checkUrl);
            };
        }
    </script>
</head>
<body>
    <button onclick="openPopup('http://nnwszkolne.compensa.pl/#NNWInsurance/StartScreen?guid=99eabe5e-3aac-49b9-8239-9321dfa94141')">Open Popup</button>
</body>
</html>
