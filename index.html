<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Popup Example</title>
    <script>
        function openPopup(url) {
            // Open the popup window with strict parameters
            const popup = window.open(url, 'popup', 'width=600,height=400,scrollbars=no,resizable=no,top=100,left=100');

            // Check URL periodically
            const checkUrl = setInterval(() => {
                try {
                    if (popup && !popup.closed) {
                        if (popup.location.href !== url) {
                            popup.location.href = url;
                        }
                    } else {
                        clearInterval(checkUrl);
                    }
                } catch (e) {
                    // Handle cross-origin issues
                    if (popup && !popup.closed) {
                        popup.location.href = url;
                    }
                }
            }, 500); // Adjust interval for performance

            // Clear interval when popup is closed
            popup.onbeforeunload = () => {
                clearInterval(checkUrl);
            };
        }
    </script>
</head>
<body>
    <button onclick="openPopup('http://nnwszkolne.compensa.pl/#NNWInsurance/StartScreen?guid=99eabe5e-3aac-49b9-8239-9321dfa94141')">Open Popup</button>
</body>
</html>
